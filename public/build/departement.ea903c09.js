(self.webpackChunk=self.webpackChunk||[]).push([[683],{7032:(e,a,r)=>{var t=r(9755);function n(e,a,r,t,n,s,i){try{var o=e[s](i),c=o.value}catch(e){return void r(e)}o.done?a(c):Promise.resolve(c).then(t,n)}function s(e){return function(){var a=this,r=arguments;return new Promise((function(t,s){var i=e.apply(a,r);function o(e){n(i,t,s,o,c,"next",e)}function c(e){n(i,t,s,o,c,"throw",e)}o(void 0)}))}}r(1539),r(8674),r(3076);var i=Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",Swal.stopTimer),e.addEventListener("mouseleave",Swal.resumeTimer)}});t(document).ready((function(){var e,a=t("#datatables_gestion_departement").DataTable({lengthMenu:[[10,15,25,50,100,2e13],[10,15,25,50,100,"All"]],order:[[0,"desc"]],ajax:"/parametre/departement/list",processing:!0,serverSide:!0,deferRender:!0,language:datatablesFrench});t("body").on("click","#datatables_gestion_departement tbody tr",(function(){t(this).hasClass("active_databales")?(t(this).removeClass("active_databales"),e=null):(t("#datatables_gestion_departement tbody tr").removeClass("active_databales"),t(this).addClass("active_databales"),e=t(this).attr("id"))})),t("#ajouter").on("click",(function(){t("#ajout_modal").modal("show")})),t("#modifier").on("click",s(regeneratorRuntime.mark((function a(){var r,n,s,o;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e){a.next=3;break}return i.fire({icon:"error",title:"Veuillez selectioner une ligne!"}),a.abrupt("return");case 3:return r=t("#modifier i"),a.prev=4,r.remove("fa-edit").addClass("fa-spinner fa-spin "),a.next=8,axios.get("/parametre/departement/details/"+e);case 8:n=a.sent,s=n.data,console.log(s),r.addClass("fa-edit").removeClass("fa-spinner fa-spin "),t("#modifier_modal #designation").val(s.designation),t("#modifier_modal #abreviation").val(s.abreviation),t("#modifier_modal #nature").val(s.nature),t("#modifier_modal #date").val(s.date),1==s.active?t("#modifier_modal #active").prop("checked",!0):t("#modifier_modal #active").prop("checked",!1),t("#modifier_modal").modal("show"),a.next=26;break;case 20:a.prev=20,a.t0=a.catch(4),console.log(a.t0,a.t0.response),o=a.t0.response.data,i.fire({icon:"error",title:o}),r.addClass("fa-edit").removeClass("fa-spinner fa-spin ");case 26:case"end":return a.stop()}}),a,null,[[4,20]])})))),t("#etablissemnt_save").on("submit",function(){var r=s(regeneratorRuntime.mark((function r(n){var s,o,c,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n.preventDefault(),s=new FormData(t("#etablissemnt_save")[0]),o=t("#etablissemnt_save i"),r.prev=3,o.remove("fa-check-circle").addClass("fa-spinner fa-spin "),r.next=7,axios.post("/parametre/departement/new",s);case 7:c=r.sent,c.data,o.addClass("fa-check-circle").removeClass("fa-spinner fa-spin "),t("#etablissemnt_save")[0].reset(),a.ajax.reload(),e=!1,t("#ajout_modal").modal("hide"),r.next=22;break;case 16:r.prev=16,r.t0=r.catch(3),console.log(r.t0,r.t0.response),l=r.t0.response.data,i.fire({icon:"error",title:l}),o.addClass("fa-check-circle").removeClass("fa-spinner fa-spin ");case 22:case"end":return r.stop()}}),r,null,[[3,16]])})));return function(e){return r.apply(this,arguments)}}()),t("#etablissemnt_udpate").on("submit",function(){var r=s(regeneratorRuntime.mark((function r(n){var s,o,c,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n.preventDefault(),s=new FormData(t("#etablissemnt_udpate")[0]),o=t("#etablissemnt_udpate i"),r.prev=3,o.remove("fa-check-circle").addClass("fa-spinner fa-spin "),r.next=7,axios.post("/parametre/departement/update/"+e,s);case 7:c=r.sent,c.data,o.addClass("fa-check-circle").removeClass("fa-spinner fa-spin "),a.ajax.reload(),e=!1,t("#modifier_modal").modal("hide"),r.next=21;break;case 15:r.prev=15,r.t0=r.catch(3),console.log(r.t0,r.t0.response),l=r.t0.response.data,i.fire({icon:"error",title:l}),o.addClass("fa-check-circle").removeClass("fa-spinner fa-spin ");case 21:case"end":return r.stop()}}),r,null,[[3,15]])})));return function(e){return r.apply(this,arguments)}}()),t("#supprimer").on("click",s(regeneratorRuntime.mark((function r(){var n,s,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e){r.next=3;break}return i.fire({icon:"error",title:"Veuillez selectioner une ligne!"}),r.abrupt("return");case 3:if(n=t("#supprimer i"),1!=confirm("Vous voulez vraiment supprimer cette departement ?")){r.next=24;break}return r.prev=6,n.remove("fa-check-circle").addClass("fa-spinner fa-spin "),r.next=10,axios.post("/parametre/departement/delete/"+e);case 10:s=r.sent,s.data,a.ajax.reload(),e=!1,n.addClass("fa-check-circle").removeClass("fa-spinner fa-spin "),i.fire({icon:"success",title:"departement bien Supprimer"}),r.next=24;break;case 18:r.prev=18,r.t0=r.catch(6),console.log(r.t0,r.t0.response),o=r.t0.response.data,i.fire({icon:"error",title:o}),n.addClass("fa-check-circle").removeClass("fa-spinner fa-spin ");case 24:case"end":return r.stop()}}),r,null,[[6,18]])}))))}))}},e=>{e.O(0,[755,29],(()=>{return a=7032,e(e.s=a);var a}));e.O()}]);